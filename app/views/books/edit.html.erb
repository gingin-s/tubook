<%= javascript_pack_tag 'book/application' %>
<%= render "shared/header" %>

<div class="edit-book-wrapper">
  <div class="container">
    <div class="book-top-wrapper border-bottom ">
      <div class="edit-book-title d-flex align-items-center">
        <label for="description-show"><i class="fas fa-angle-down pe-2"></i></label>
        <h3><%= @book.title %></h3>
      </div>
      <input type="checkbox" id="description-show"/>
      <div class="edit-book-description d-flex align-items-end">
        <p class="pe-2 mb-0 text-secondary">bookの概要:</p>
        <%= @book.description %>
      </div>
    </div>

    <div class="book-main-wrapper mt-2">
      <div class="book-left-content col-6">
        <div class="player-container">
          <div class="youtube-player" id="player"></div>
        </div>
        <div class="display-area d-flex align-items-end justify-content-start w-100">
          <div  class="display-now text-danger">Now:</div>
          <div id="display-note" class="display-note">あああああああああああああああああああああああいい</div>
        </div>
      </div>

      <div class="book-right-content col">
        <div class="notes-window">
          <h2 class="notes-info w-50 border-bottom ps-2">Notes</h2>
              <div class="notes" id="notes">
                <%= render partial: "notes/note", collection: @notes %>
              </div>
        </div>
      </div>
    </div> <%#/book-main-wrapper%>

    <div class="border-bottom mt-3 border-success"></div>

    <div class="add-note-wrapper">
      <div class="note-form-area">
      <p class="fw-bold col-3 border-bottom mb-4">Noteの追加</p>
        <%= form_with model: [@book, @note], id:"note-form", local: true do |f| %>
        <%= render "shared/error_messages", model: f.object %>
          <div class="w-100">
            <div class="video-time-form d-flex">
              <a id="btn"><i class="fas fa-pencil  fs-4 me-3"></i></a>
              <div id="video-time-display"></div>
              <%= f.text_field :video_time, id:"video_time", style:"width:8%", class:"visually-hidden"%>  :ペンをクリックで動画の時間を指定
            </div>
            <div class="d-flex align-items-end">
              <div class="note-form col-10">
                <%= f.text_area :text, class:"new-note-text", id:"new-note-text", placeholder:"Noteを記入" ,rows:"3" ,maxlength:"1000" %>
              </div>
              <div class="note-form-submit col-2 ps-2">
                <label class="note-submit" id="note-submit">追加</label>
                <%= f.submit "追加", id:"note-submit", class:"visually-hidden" %>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>

  </div><%#/container%>
</div><%#/edit-book-wrapper%>
